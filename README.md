# Redundancy Workflow for Label-Studio Community Users

## Description
This project automates a workflow for collecting annotations from two annotators, comparing them, and managing mismatched data in Label Studio.

## Input
- `Input_images`: Folder containing images to be annotated.
- `json_file`: Folder containing JSON files for importing tasks in Label Studio.
- `json_mismatch_file`: (Optional) Folder for storing mismatched annotations after comparison.

## Output
- `correct_annotations.csv`: CSV file containing annotations that matched between both annotators.
- `mismatched.json`: JSON file containing information about mismatched annotations.
- `ids.txt`: File storing the IDs of the created Label Studio projects.
- `project_1.json` and `project_2.json`: Snapshots of annotations from Project 1 and Project 2 (generated by Label Studio export).
- Individual JSON files in `json_mismatch_file` (optional): Separate JSON files for each mismatched annotation.

## Files
- `to_json.py`: Creates individual JSON files for each image in the `Input_images` folder.
- `3_pre_main.py`: Sets up projects in Label Studio, registers storage for images, and imports tasks from JSON files.
- `4_post_main.py`: Exports snapshots from both projects, compares annotations, and saves results to CSV and JSON.
- `5_store_mismatch.py`: Creates individual JSON files for each mismatched annotation in a separate folder.
- `6_import_mismatch.py`: (Optional) Deletes existing tasks and re-imports mismatched data into Label Studio projects.
- `7_check_mismatched.py`: Compares annotations from a snapshot with prior mismatches and iteratively searches for a correct text among subsequent snapshots provided.
- `main.py`: Contains common functions used throughout the scripts, such as project creation and task import.
- `correct_annotations.csv`, `ids.txt`, `mismatched.json`, `project_1.json`, `project_2.json`: Files generated during the workflow.

## Instructions
1. Replace the placeholder project name at the beginning of this file.
2. Ensure you have the necessary API keys and URLs for Label Studio access (defined in `3_pre_main.py`).
3. Place your images in the `Input_images` folder.
4. Place your JSON task files in the `json_file` folder.
5. Run `3_pre_main.py`. This will create projects in Label Studio, import tasks, and register the image storage.
6. Annotators can then complete the tasks in their respective Label Studio projects.
7. Once annotations are complete, run `4_post_main.py`. This will compare annotations, save results, and create mismatch files if necessary.
8. Optionally, you can use `5_store_mismatch.py` to create individual JSON files for each mismatch.
9. Optionally, use `6_import_mismatch.py` to re-import mismatched data into Label Studio projects for further review or adjudication.
10. Use `7_check_mismatched.py` to compare and resolve mismatches in annotations.
